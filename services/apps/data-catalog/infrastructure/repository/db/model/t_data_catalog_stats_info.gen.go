/*
 * @Author: David.chen David.chen02@KweaverAI.cn
 * @Date: 2023-07-08 11:17:06
 * @LastEditors: David.chen David.chen02@KweaverAI.cn
 * @LastEditTime: 2023-07-08 13:57:48
 * @FilePath: /data-catalog/infrastructure/repository/db/model/t_data_catalog_stats_info.gen.go
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 */
// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.

package model

import (
	"github.com/kweaver-ai/dsg/services/apps/data-catalog/common/util"
	"github.com/kweaver-ai/idrm-go-frame/core/utils"
	"gorm.io/gorm"
)

const TableNameTDataCatalogStatsInfo = "t_data_catalog_stats_info"

// TDataCatalogStatsInfo mapped from table <t_data_catalog_stats_info>
type TDataCatalogStatsInfo struct {
	ID         uint64     `gorm:"column:id;primaryKey" json:"id"`                                           // 唯一id，雪花算法
	Code       string     `gorm:"column:code;not null" json:"code"`                                         // 目录编码
	ApplyNum   int        `gorm:"column:apply_num;not null;default:0" json:"apply_num"`                     // 申请数
	PreviewNum int        `gorm:"column:preview_num;not null;default:0" json:"preview_num"`                 // 预览数
	CreatedAt  *util.Time `gorm:"column:created_at;not null;default:current_timestamp()" json:"created_at"` // 创建时间
	UpdatedAt  *util.Time `gorm:"column:updated_at;not null;default:current_timestamp()" json:"updated_at"` // 更新时间
}

func (m *TDataCatalogStatsInfo) BeforeCreate(_ *gorm.DB) error {
	var err error
	if m == nil {
		return nil
	}

	if m.ID == 0 {
		m.ID, err = utils.GetUniqueID()
	}

	return err
}

// TableName TCatalogCodeTitle's table name
func (*TDataCatalogStatsInfo) TableName() string {
	return TableNameTDataCatalogStatsInfo
}
