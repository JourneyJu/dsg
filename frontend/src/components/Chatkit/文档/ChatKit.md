# README 编写规范（经验总结）

实现 ChatKit 组件

## 1. 组件介绍

-   **组件用途**：显示聊天对话界面
-   **使用场景**：在 Assistant 中点击助手卡片后打开聊天界面

## 2. 组件结构

-   **所在目录**：../Assistant/
-   **组件名称**：ChatKit
-   **文件**：ChatKit.tsx

## 3. 交互设计

### 3.1 Figma 设计稿链接

-   **组件设计**: 无

### 3.2 布局结构

-   **整体布局**：使用 Drawer 组件，宽度 100%，高度为 calc(100vh - 56px)，绝对定位在顶部 56px 位置

### 3.3 交互行为

-   **用户操作**：点击历史按钮可以打开历史记录抽屉，点击关闭可以关闭聊天界面
-   **状态变化**：无
-   **默认行为**：无

### 3.4 外部链接/跳转

-   **外部链接**：无
-   **链接文案**：无

## 4. 代码实现

### 4.1 Props 接口

-   **接口定义**：组件接口定义：是否显示、关闭事件、助手信息
-   **参数说明**：所有参数都是必选
-   **示例**：
    ```typescript
    interface IChatKitProps {
        /** 是否显示 */
        visible: boolean
        /** 关闭事件 */
        onClose: () => void
        /** 助手信息 */
        agent: IAgentItem
    }
    ```

### 4.2 默认行为

-   **初始化状态**： 无
-   **默认值**：无

### 4.3 数据加载

-   **数据来源**：使用 chatkit 库的 ChatKitDataAgent 组件
-   **加载时机**：组件显示时加载
-   **加载状态**：由 ChatKitDataAgent 组件内部处理

### 4.4 样式规范

-   **样式方案**：使用 antd Drawer 组件样式
-   **关键样式**：历史按钮绝对定位在右侧，距离右侧窗口 48px
-   **特殊样式**：Drawer 无遮罩，无阴影，无头部

### 4.5 性能优化

-   **优化措施**：使用 destroyOnClose 属性，关闭时销毁组件
-   **注意事项**：注意不要循环依赖

## 5. 注意事项

-   **特殊逻辑**：历史按钮悬浮时显示蓝色
-   **边界情况**：无
-   **依赖关系**：依赖 ChatHistory 组件
-   **已知问题**：无
